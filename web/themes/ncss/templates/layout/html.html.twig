{# templates/html.html.twig #}
<!DOCTYPE html>
<html{{ html_attributes }}>
<head>
  <head-placeholder token="{{ placeholder_token|raw }}">
    <title>{{ head_title|safe_join(' | ') }}</title>
    <css-placeholder token="{{ placeholder_token|raw }}">
      <js-placeholder token="{{ placeholder_token|raw }}">

        {# Preconnect to font servers for faster loading #}
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

        {# Google Fonts non-blocking loading #}
        <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Arabic:wght@100;200;300;400;500;600;700&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
        <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&display=swap" rel="stylesheet" media="print" onload="this.media='all'">

        <noscript>
          <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Arabic:wght@100;200;300;400;500;600;700&display=swap" rel="stylesheet">
          <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&display=swap" rel="stylesheet">
        </noscript>

        {# Preload key CSS assets #}
        <link rel="preload" as="style" href="/themes/custom/yourtheme/frontend/css/style.css">
        <link rel="preload" as="style" href="/themes/custom/yourtheme/frontend/css/style-ar.css">

        {# Preload fonts used in critical content #}
        <link rel="preload" as="font" href="/themes/custom/yourtheme/fonts/your-font.woff2" type="font/woff2" crossorigin>

        {# Optional: preload external icon CSS (if still using CDN) #}
        <link rel="preload" as="style" href="https://cdn.hugeicons.com/font/hgi-stroke-rounded.css">

        {# Optional: preload Swiper CSS #}
        <link rel="preload" as="style" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
</head>
<body{{ attributes }}>
{{ page_top }}
{{ page }}
{{ page_bottom }}

{# Defer JS scripts to avoid render-blocking #}
<script src="https://cdnjs.cloudflare.com/ajax/libs/fslightbox/3.0.9/index.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" defer></script>
<script src="/themes/custom/yourtheme/frontend/js/script.js" defer></script>
</body>
</html>
